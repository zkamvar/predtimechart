/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./node_modules/ajv-formats/dist/formats.js":
/*!**************************************************!*\
  !*** ./node_modules/ajv-formats/dist/formats.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.formatNames = exports.fastFormats = exports.fullFormats = void 0;\nfunction fmtDef(validate, compare) {\n    return { validate, compare };\n}\nexports.fullFormats = {\n    // date: http://tools.ietf.org/html/rfc3339#section-5.6\n    date: fmtDef(date, compareDate),\n    // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n    time: fmtDef(time, compareTime),\n    \"date-time\": fmtDef(date_time, compareDateTime),\n    // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n    duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n    uri,\n    \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n    // uri-template: https://tools.ietf.org/html/rfc6570\n    \"uri-template\": /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n    // For the source: https://gist.github.com/dperini/729294\n    // For test cases: https://mathiasbynens.be/demo/url-regex\n    url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n    email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n    hostname: /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n    // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n    ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n    ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n    regex,\n    // uuid: http://tools.ietf.org/html/rfc4122\n    uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n    // JSON-pointer: https://tools.ietf.org/html/rfc6901\n    // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n    \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n    \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n    // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n    \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n    // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n    // byte: https://github.com/miguelmota/is-base64\n    byte,\n    // signed 32 bit integer\n    int32: { type: \"number\", validate: validateInt32 },\n    // signed 64 bit integer\n    int64: { type: \"number\", validate: validateInt64 },\n    // C-type float\n    float: { type: \"number\", validate: validateNumber },\n    // C-type double\n    double: { type: \"number\", validate: validateNumber },\n    // hint to the UI to hide input strings\n    password: true,\n    // unchecked string payload\n    binary: true,\n};\nexports.fastFormats = {\n    ...exports.fullFormats,\n    date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n    time: fmtDef(/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i, compareTime),\n    \"date-time\": fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i, compareDateTime),\n    // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n    uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n    \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n    // email (sources from jsen validator):\n    // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n    // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n    email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n};\nexports.formatNames = Object.keys(exports.fullFormats);\nfunction isLeapYear(year) {\n    // https://tools.ietf.org/html/rfc3339#appendix-C\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction date(str) {\n    // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n    const matches = DATE.exec(str);\n    if (!matches)\n        return false;\n    const year = +matches[1];\n    const month = +matches[2];\n    const day = +matches[3];\n    return (month >= 1 &&\n        month <= 12 &&\n        day >= 1 &&\n        day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month]));\n}\nfunction compareDate(d1, d2) {\n    if (!(d1 && d2))\n        return undefined;\n    if (d1 > d2)\n        return 1;\n    if (d1 < d2)\n        return -1;\n    return 0;\n}\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nfunction time(str, withTimeZone) {\n    const matches = TIME.exec(str);\n    if (!matches)\n        return false;\n    const hour = +matches[1];\n    const minute = +matches[2];\n    const second = +matches[3];\n    const timeZone = matches[5];\n    return (((hour <= 23 && minute <= 59 && second <= 59) ||\n        (hour === 23 && minute === 59 && second === 60)) &&\n        (!withTimeZone || timeZone !== \"\"));\n}\nfunction compareTime(t1, t2) {\n    if (!(t1 && t2))\n        return undefined;\n    const a1 = TIME.exec(t1);\n    const a2 = TIME.exec(t2);\n    if (!(a1 && a2))\n        return undefined;\n    t1 = a1[1] + a1[2] + a1[3] + (a1[4] || \"\");\n    t2 = a2[1] + a2[2] + a2[3] + (a2[4] || \"\");\n    if (t1 > t2)\n        return 1;\n    if (t1 < t2)\n        return -1;\n    return 0;\n}\nconst DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n    // http://tools.ietf.org/html/rfc3339#section-5.6\n    const dateTime = str.split(DATE_TIME_SEPARATOR);\n    return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\nfunction compareDateTime(dt1, dt2) {\n    if (!(dt1 && dt2))\n        return undefined;\n    const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR);\n    const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR);\n    const res = compareDate(d1, d2);\n    if (res === undefined)\n        return undefined;\n    return res || compareTime(t1, t2);\n}\nconst NOT_URI_FRAGMENT = /\\/|:/;\nconst URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nfunction uri(str) {\n    // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n    return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;\nfunction byte(str) {\n    BYTE.lastIndex = 0;\n    return BYTE.test(str);\n}\nconst MIN_INT32 = -(2 ** 31);\nconst MAX_INT32 = 2 ** 31 - 1;\nfunction validateInt32(value) {\n    return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32;\n}\nfunction validateInt64(value) {\n    // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n    return Number.isInteger(value);\n}\nfunction validateNumber() {\n    return true;\n}\nconst Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n    if (Z_ANCHOR.test(str))\n        return false;\n    try {\n        new RegExp(str);\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n//# sourceMappingURL=formats.js.map\n\n//# sourceURL=webpack://ajv-play/./node_modules/ajv-formats/dist/formats.js?");

/***/ }),

/***/ "./node_modules/ajv/dist/runtime/equal.js":
/*!************************************************!*\
  !*** ./node_modules/ajv/dist/runtime/equal.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = __webpack_require__(/*! fast-deep-equal */ \"./node_modules/fast-deep-equal/index.js\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports[\"default\"] = equal;\n//# sourceMappingURL=equal.js.map\n\n//# sourceURL=webpack://ajv-play/./node_modules/ajv/dist/runtime/equal.js?");

/***/ }),

/***/ "./node_modules/ajv/dist/runtime/ucs2length.js":
/*!*****************************************************!*\
  !*** ./node_modules/ajv/dist/runtime/ucs2length.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports[\"default\"] = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map\n\n//# sourceURL=webpack://ajv-play/./node_modules/ajv/dist/runtime/ucs2length.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/predtimechart.css":
/*!*********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/predtimechart.css ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/**\n * predtimechart: A JavaScript (ES6 ECMAScript) module for forecast visualization.\n */\n\n.forecastViz_dot {\n    height: 15px;\n    width: 15px;\n    border-radius: 50%;\n    border: 1px solid black;\n    display: inline-block;\n}\n\n.forecastViz_select_data {\n    font-size: 14px;\n}\n\n#forecastViz_select_model {\n    height: 48vh;\n    overflow-y: scroll;\n    font-size: 14px;\n}\n\n.forecastViz_disclaimer {\n    text-align: center;\n    margin-left: 3%;\n    margin-right: 3%;\n    font-size: 18px;\n}\n`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://ajv-play/./src/predtimechart.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://ajv-play/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://ajv-play/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
  !*** ./node_modules/fast-deep-equal/index.js ***!
  \***********************************************/
/***/ ((module) => {

eval("\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\n\n//# sourceURL=webpack://ajv-play/./node_modules/fast-deep-equal/index.js?");

/***/ }),

/***/ "./src/predtimechart.css":
/*!*******************************!*\
  !*** ./src/predtimechart.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_predtimechart_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./predtimechart.css */ \"./node_modules/css-loader/dist/cjs.js!./src/predtimechart.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_predtimechart_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_predtimechart_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_predtimechart_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_predtimechart_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://ajv-play/./src/predtimechart.css?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://ajv-play/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/schema-validator.cjs":
/*!**********************************!*\
  !*** ./src/schema-validator.cjs ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = validate20;module.exports[\"default\"] = validate20;const schema22 = {\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"https://github.com/reichlab/predtimechart/blob/main/src/schema.json\",\"title\":\"predtimechart options\",\"description\":\"predtimechart options object schema\",\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"available_as_ofs\":{\"description\":\"`object` that maps `target_variables` `value` to an `array` of dates in 'YYYY-MM-DD' format that have truth and/or forecasts available\",\"type\":\"object\",\"minProperties\":1,\"additionalProperties\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"type\":\"string\",\"format\":\"date\"}}},\"current_date\":{\"description\":\"`available_as_ofs` `value` key to use for the initial plot\",\"type\":\"string\",\"format\":\"date\"},\"disclaimer\":{\"description\":\"`string` providing any important information users should know\",\"type\":\"string\",\"minLength\":1},\"initial_as_of\":{\"description\":\"`string` specifying the initial date from 'available_as_ofs' (in 'YYYY-MM-DD' format) to use for the initially-selected _as_of_ date\",\"type\":\"string\",\"format\":\"date\"},\"initial_checked_models\":{\"description\":\"`models` value(s) to use for the initial plot\",\"type\":\"array\",\"uniqueItems\":true},\"initial_interval\":{\"description\":\"`intervals` value to use for the initial plot\",\"type\":\"string\"},\"initial_target_var\":{\"description\":\"`target_variables` `value` key to use for the initial plot\",\"type\":\"string\"},\"initial_task_ids\":{\"description\":\"an `object` to use for the initial plot. format is identical to `_fetchData()`'s `taskIDs` arg\",\"type\":\"object\",\"minProperties\":1},\"initial_xaxis_range\":{\"description\":\"optional `array` of two dates in 'YYYY-MM-DD' format that specify the initial xaxis range to use. To not initialize the range, either don't pass this key or pass `null` for its value\",\"type\":[\"array\",\"null\"],\"minItems\":2,\"maxItems\":2,\"uniqueItems\":true,\"items\":{\"type\":\"string\",\"format\":\"date\"}},\"intervals\":{\"description\":\"`array` of one or more strings of the format '<integer>%' between '0%' and '100%' inclusive, representing percentages. Currently only '50%' and '95%' are used (purpose: TBD)\",\"type\":\"array\",\"minItems\":1,\"uniqueItems\":true,\"items\":{\"type\":\"string\",\"pattern\":\"^[1-9]?[0-9]%$\"}},\"models\":{\"description\":\"`array` of model names (`string`s) that provide data\",\"type\":\"array\",\"minItems\":1,\"uniqueItems\":true},\"target_variables\":{\"description\":\"`array` of `object`s defining the target variables in the data. Each object contains three keys: `value`, `text`, `plot_text`\",\"type\":\"array\",\"minItems\":1,\"items\":{\"type\":\"object\",\"additionalProperties\":false,\"properties\":{\"value\":{\"description\":\"used as the main value that's passed around for the target\",\"type\":\"string\",\"minLength\":1},\"text\":{\"description\":\"human-readable text\",\"type\":\"string\",\"minLength\":1},\"plot_text\":{\"description\":\"plot text\",\"type\":\"string\",\"minLength\":1}},\"required\":[\"value\",\"text\",\"plot_text\"]}},\"task_ids\":{\"description\":\"`object` defining the _tasks_ in the data as described in `_fetchData`'s `taskIDs` arg\",\"type\":\"object\",\"minProperties\":1,\"patternProperties\":{\"^[A-Za-z]+[A-Za-z0-9_-]*$\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"value\":{\"description\":\"used as the main value that's passed around for the task_id\",\"type\":\"string\",\"minLength\":1},\"text\":{\"description\":\"human-readable text\",\"type\":\"string\",\"minLength\":1}}}}},\"additionalProperties\":false}},\"required\":[\"available_as_ofs\",\"current_date\",\"disclaimer\",\"initial_as_of\",\"initial_checked_models\",\"initial_interval\",\"initial_target_var\",\"initial_task_ids\",\"initial_xaxis_range\",\"intervals\",\"models\",\"target_variables\",\"task_ids\"]};const func4 = Object.prototype.hasOwnProperty;const func5 = (__webpack_require__(/*! ajv/dist/runtime/ucs2length */ \"./node_modules/ajv/dist/runtime/ucs2length.js\")[\"default\"]);const func0 = (__webpack_require__(/*! ajv/dist/runtime/equal */ \"./node_modules/ajv/dist/runtime/equal.js\")[\"default\"]);const formats0 = (__webpack_require__(/*! ajv-formats/dist/formats */ \"./node_modules/ajv-formats/dist/formats.js\").fullFormats.date);const pattern0 = new RegExp(\"^[1-9]?[0-9]%$\", \"u\");const pattern1 = new RegExp(\"^[A-Za-z]+[A-Za-z0-9_-]*$\", \"u\");function validate20(data, {instancePath=\"\", parentData, parentDataProperty, rootData=data}={}){/*# sourceURL=\"https://github.com/reichlab/predtimechart/blob/main/src/schema.json\" */;let vErrors = null;let errors = 0;if(data && typeof data == \"object\" && !Array.isArray(data)){if(data.available_as_ofs === undefined){const err0 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"available_as_ofs\"},message:\"must have required property '\"+\"available_as_ofs\"+\"'\"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.current_date === undefined){const err1 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"current_date\"},message:\"must have required property '\"+\"current_date\"+\"'\"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.disclaimer === undefined){const err2 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"disclaimer\"},message:\"must have required property '\"+\"disclaimer\"+\"'\"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.initial_as_of === undefined){const err3 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_as_of\"},message:\"must have required property '\"+\"initial_as_of\"+\"'\"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.initial_checked_models === undefined){const err4 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_checked_models\"},message:\"must have required property '\"+\"initial_checked_models\"+\"'\"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.initial_interval === undefined){const err5 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_interval\"},message:\"must have required property '\"+\"initial_interval\"+\"'\"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.initial_target_var === undefined){const err6 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_target_var\"},message:\"must have required property '\"+\"initial_target_var\"+\"'\"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.initial_task_ids === undefined){const err7 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_task_ids\"},message:\"must have required property '\"+\"initial_task_ids\"+\"'\"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data.initial_xaxis_range === undefined){const err8 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"initial_xaxis_range\"},message:\"must have required property '\"+\"initial_xaxis_range\"+\"'\"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data.intervals === undefined){const err9 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"intervals\"},message:\"must have required property '\"+\"intervals\"+\"'\"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(data.models === undefined){const err10 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"models\"},message:\"must have required property '\"+\"models\"+\"'\"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}if(data.target_variables === undefined){const err11 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"target_variables\"},message:\"must have required property '\"+\"target_variables\"+\"'\"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}if(data.task_ids === undefined){const err12 = {instancePath,schemaPath:\"#/required\",keyword:\"required\",params:{missingProperty: \"task_ids\"},message:\"must have required property '\"+\"task_ids\"+\"'\"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}for(const key0 in data){if(!(func4.call(schema22.properties, key0))){const err13 = {instancePath,schemaPath:\"#/additionalProperties\",keyword:\"additionalProperties\",params:{additionalProperty: key0},message:\"must NOT have additional properties\"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.available_as_ofs !== undefined){let data0 = data.available_as_ofs;if(data0 && typeof data0 == \"object\" && !Array.isArray(data0)){if(Object.keys(data0).length < 1){const err14 = {instancePath:instancePath+\"/available_as_ofs\",schemaPath:\"#/properties/available_as_ofs/minProperties\",keyword:\"minProperties\",params:{limit: 1},message:\"must NOT have fewer than 1 properties\"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}for(const key1 in data0){let data1 = data0[key1];if(Array.isArray(data1)){if(data1.length < 1){const err15 = {instancePath:instancePath+\"/available_as_ofs/\" + key1.replace(/~/g, \"~0\").replace(/\\//g, \"~1\"),schemaPath:\"#/properties/available_as_ofs/additionalProperties/minItems\",keyword:\"minItems\",params:{limit: 1},message:\"must NOT have fewer than 1 items\"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}const len0 = data1.length;for(let i0=0; i0<len0; i0++){let data2 = data1[i0];if(typeof data2 === \"string\"){if(!(formats0.validate(data2))){const err16 = {instancePath:instancePath+\"/available_as_ofs/\" + key1.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i0,schemaPath:\"#/properties/available_as_ofs/additionalProperties/items/format\",keyword:\"format\",params:{format: \"date\"},message:\"must match format \\\"\"+\"date\"+\"\\\"\"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}else {const err17 = {instancePath:instancePath+\"/available_as_ofs/\" + key1.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i0,schemaPath:\"#/properties/available_as_ofs/additionalProperties/items/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}}else {const err18 = {instancePath:instancePath+\"/available_as_ofs/\" + key1.replace(/~/g, \"~0\").replace(/\\//g, \"~1\"),schemaPath:\"#/properties/available_as_ofs/additionalProperties/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}}else {const err19 = {instancePath:instancePath+\"/available_as_ofs\",schemaPath:\"#/properties/available_as_ofs/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.current_date !== undefined){let data3 = data.current_date;if(typeof data3 === \"string\"){if(!(formats0.validate(data3))){const err20 = {instancePath:instancePath+\"/current_date\",schemaPath:\"#/properties/current_date/format\",keyword:\"format\",params:{format: \"date\"},message:\"must match format \\\"\"+\"date\"+\"\\\"\"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}else {const err21 = {instancePath:instancePath+\"/current_date\",schemaPath:\"#/properties/current_date/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.disclaimer !== undefined){let data4 = data.disclaimer;if(typeof data4 === \"string\"){if(func5(data4) < 1){const err22 = {instancePath:instancePath+\"/disclaimer\",schemaPath:\"#/properties/disclaimer/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+\"/disclaimer\",schemaPath:\"#/properties/disclaimer/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.initial_as_of !== undefined){let data5 = data.initial_as_of;if(typeof data5 === \"string\"){if(!(formats0.validate(data5))){const err24 = {instancePath:instancePath+\"/initial_as_of\",schemaPath:\"#/properties/initial_as_of/format\",keyword:\"format\",params:{format: \"date\"},message:\"must match format \\\"\"+\"date\"+\"\\\"\"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}else {const err25 = {instancePath:instancePath+\"/initial_as_of\",schemaPath:\"#/properties/initial_as_of/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data.initial_checked_models !== undefined){let data6 = data.initial_checked_models;if(Array.isArray(data6)){let i1 = data6.length;let j0;if(i1 > 1){outer0:for(;i1--;){for(j0 = i1; j0--;){if(func0(data6[i1], data6[j0])){const err26 = {instancePath:instancePath+\"/initial_checked_models\",schemaPath:\"#/properties/initial_checked_models/uniqueItems\",keyword:\"uniqueItems\",params:{i: i1, j: j0},message:\"must NOT have duplicate items (items ## \"+j0+\" and \"+i1+\" are identical)\"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;break outer0;}}}}}else {const err27 = {instancePath:instancePath+\"/initial_checked_models\",schemaPath:\"#/properties/initial_checked_models/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}if(data.initial_interval !== undefined){if(typeof data.initial_interval !== \"string\"){const err28 = {instancePath:instancePath+\"/initial_interval\",schemaPath:\"#/properties/initial_interval/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.initial_target_var !== undefined){if(typeof data.initial_target_var !== \"string\"){const err29 = {instancePath:instancePath+\"/initial_target_var\",schemaPath:\"#/properties/initial_target_var/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data.initial_task_ids !== undefined){let data9 = data.initial_task_ids;if(data9 && typeof data9 == \"object\" && !Array.isArray(data9)){if(Object.keys(data9).length < 1){const err30 = {instancePath:instancePath+\"/initial_task_ids\",schemaPath:\"#/properties/initial_task_ids/minProperties\",keyword:\"minProperties\",params:{limit: 1},message:\"must NOT have fewer than 1 properties\"};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}else {const err31 = {instancePath:instancePath+\"/initial_task_ids\",schemaPath:\"#/properties/initial_task_ids/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}if(data.initial_xaxis_range !== undefined){let data10 = data.initial_xaxis_range;if((!(Array.isArray(data10))) && (data10 !== null)){const err32 = {instancePath:instancePath+\"/initial_xaxis_range\",schemaPath:\"#/properties/initial_xaxis_range/type\",keyword:\"type\",params:{type: schema22.properties.initial_xaxis_range.type},message:\"must be array,null\"};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}if(Array.isArray(data10)){if(data10.length > 2){const err33 = {instancePath:instancePath+\"/initial_xaxis_range\",schemaPath:\"#/properties/initial_xaxis_range/maxItems\",keyword:\"maxItems\",params:{limit: 2},message:\"must NOT have more than 2 items\"};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}if(data10.length < 2){const err34 = {instancePath:instancePath+\"/initial_xaxis_range\",schemaPath:\"#/properties/initial_xaxis_range/minItems\",keyword:\"minItems\",params:{limit: 2},message:\"must NOT have fewer than 2 items\"};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}const len1 = data10.length;for(let i2=0; i2<len1; i2++){let data11 = data10[i2];if(typeof data11 === \"string\"){if(!(formats0.validate(data11))){const err35 = {instancePath:instancePath+\"/initial_xaxis_range/\" + i2,schemaPath:\"#/properties/initial_xaxis_range/items/format\",keyword:\"format\",params:{format: \"date\"},message:\"must match format \\\"\"+\"date\"+\"\\\"\"};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}else {const err36 = {instancePath:instancePath+\"/initial_xaxis_range/\" + i2,schemaPath:\"#/properties/initial_xaxis_range/items/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}let i3 = data10.length;let j1;if(i3 > 1){const indices0 = {};for(;i3--;){let item0 = data10[i3];if(typeof item0 !== \"string\"){continue;}if(typeof indices0[item0] == \"number\"){j1 = indices0[item0];const err37 = {instancePath:instancePath+\"/initial_xaxis_range\",schemaPath:\"#/properties/initial_xaxis_range/uniqueItems\",keyword:\"uniqueItems\",params:{i: i3, j: j1},message:\"must NOT have duplicate items (items ## \"+j1+\" and \"+i3+\" are identical)\"};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;break;}indices0[item0] = i3;}}}}if(data.intervals !== undefined){let data12 = data.intervals;if(Array.isArray(data12)){if(data12.length < 1){const err38 = {instancePath:instancePath+\"/intervals\",schemaPath:\"#/properties/intervals/minItems\",keyword:\"minItems\",params:{limit: 1},message:\"must NOT have fewer than 1 items\"};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}const len2 = data12.length;for(let i4=0; i4<len2; i4++){let data13 = data12[i4];if(typeof data13 === \"string\"){if(!pattern0.test(data13)){const err39 = {instancePath:instancePath+\"/intervals/\" + i4,schemaPath:\"#/properties/intervals/items/pattern\",keyword:\"pattern\",params:{pattern: \"^[1-9]?[0-9]%$\"},message:\"must match pattern \\\"\"+\"^[1-9]?[0-9]%$\"+\"\\\"\"};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}else {const err40 = {instancePath:instancePath+\"/intervals/\" + i4,schemaPath:\"#/properties/intervals/items/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}let i5 = data12.length;let j2;if(i5 > 1){const indices1 = {};for(;i5--;){let item1 = data12[i5];if(typeof item1 !== \"string\"){continue;}if(typeof indices1[item1] == \"number\"){j2 = indices1[item1];const err41 = {instancePath:instancePath+\"/intervals\",schemaPath:\"#/properties/intervals/uniqueItems\",keyword:\"uniqueItems\",params:{i: i5, j: j2},message:\"must NOT have duplicate items (items ## \"+j2+\" and \"+i5+\" are identical)\"};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;break;}indices1[item1] = i5;}}}else {const err42 = {instancePath:instancePath+\"/intervals\",schemaPath:\"#/properties/intervals/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data.models !== undefined){let data14 = data.models;if(Array.isArray(data14)){if(data14.length < 1){const err43 = {instancePath:instancePath+\"/models\",schemaPath:\"#/properties/models/minItems\",keyword:\"minItems\",params:{limit: 1},message:\"must NOT have fewer than 1 items\"};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}let i6 = data14.length;let j3;if(i6 > 1){outer1:for(;i6--;){for(j3 = i6; j3--;){if(func0(data14[i6], data14[j3])){const err44 = {instancePath:instancePath+\"/models\",schemaPath:\"#/properties/models/uniqueItems\",keyword:\"uniqueItems\",params:{i: i6, j: j3},message:\"must NOT have duplicate items (items ## \"+j3+\" and \"+i6+\" are identical)\"};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;break outer1;}}}}}else {const err45 = {instancePath:instancePath+\"/models\",schemaPath:\"#/properties/models/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data.target_variables !== undefined){let data15 = data.target_variables;if(Array.isArray(data15)){if(data15.length < 1){const err46 = {instancePath:instancePath+\"/target_variables\",schemaPath:\"#/properties/target_variables/minItems\",keyword:\"minItems\",params:{limit: 1},message:\"must NOT have fewer than 1 items\"};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}const len3 = data15.length;for(let i7=0; i7<len3; i7++){let data16 = data15[i7];if(data16 && typeof data16 == \"object\" && !Array.isArray(data16)){if(data16.value === undefined){const err47 = {instancePath:instancePath+\"/target_variables/\" + i7,schemaPath:\"#/properties/target_variables/items/required\",keyword:\"required\",params:{missingProperty: \"value\"},message:\"must have required property '\"+\"value\"+\"'\"};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}if(data16.text === undefined){const err48 = {instancePath:instancePath+\"/target_variables/\" + i7,schemaPath:\"#/properties/target_variables/items/required\",keyword:\"required\",params:{missingProperty: \"text\"},message:\"must have required property '\"+\"text\"+\"'\"};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}if(data16.plot_text === undefined){const err49 = {instancePath:instancePath+\"/target_variables/\" + i7,schemaPath:\"#/properties/target_variables/items/required\",keyword:\"required\",params:{missingProperty: \"plot_text\"},message:\"must have required property '\"+\"plot_text\"+\"'\"};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}for(const key2 in data16){if(!(((key2 === \"value\") || (key2 === \"text\")) || (key2 === \"plot_text\"))){const err50 = {instancePath:instancePath+\"/target_variables/\" + i7,schemaPath:\"#/properties/target_variables/items/additionalProperties\",keyword:\"additionalProperties\",params:{additionalProperty: key2},message:\"must NOT have additional properties\"};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}if(data16.value !== undefined){let data17 = data16.value;if(typeof data17 === \"string\"){if(func5(data17) < 1){const err51 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/value\",schemaPath:\"#/properties/target_variables/items/properties/value/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}else {const err52 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/value\",schemaPath:\"#/properties/target_variables/items/properties/value/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}if(data16.text !== undefined){let data18 = data16.text;if(typeof data18 === \"string\"){if(func5(data18) < 1){const err53 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/text\",schemaPath:\"#/properties/target_variables/items/properties/text/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}else {const err54 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/text\",schemaPath:\"#/properties/target_variables/items/properties/text/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}if(data16.plot_text !== undefined){let data19 = data16.plot_text;if(typeof data19 === \"string\"){if(func5(data19) < 1){const err55 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/plot_text\",schemaPath:\"#/properties/target_variables/items/properties/plot_text/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}else {const err56 = {instancePath:instancePath+\"/target_variables/\" + i7+\"/plot_text\",schemaPath:\"#/properties/target_variables/items/properties/plot_text/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}}else {const err57 = {instancePath:instancePath+\"/target_variables/\" + i7,schemaPath:\"#/properties/target_variables/items/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}}}else {const err58 = {instancePath:instancePath+\"/target_variables\",schemaPath:\"#/properties/target_variables/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}}if(data.task_ids !== undefined){let data20 = data.task_ids;if(data20 && typeof data20 == \"object\" && !Array.isArray(data20)){if(Object.keys(data20).length < 1){const err59 = {instancePath:instancePath+\"/task_ids\",schemaPath:\"#/properties/task_ids/minProperties\",keyword:\"minProperties\",params:{limit: 1},message:\"must NOT have fewer than 1 properties\"};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}for(const key3 in data20){if(!(pattern1.test(key3))){const err60 = {instancePath:instancePath+\"/task_ids\",schemaPath:\"#/properties/task_ids/additionalProperties\",keyword:\"additionalProperties\",params:{additionalProperty: key3},message:\"must NOT have additional properties\"};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}}for(const key4 in data20){if(pattern1.test(key4)){let data21 = data20[key4];if(Array.isArray(data21)){const len4 = data21.length;for(let i8=0; i8<len4; i8++){let data22 = data21[i8];if(data22 && typeof data22 == \"object\" && !Array.isArray(data22)){if(data22.value !== undefined){let data23 = data22.value;if(typeof data23 === \"string\"){if(func5(data23) < 1){const err61 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i8+\"/value\",schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/items/properties/value/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}}else {const err62 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i8+\"/value\",schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/items/properties/value/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}}if(data22.text !== undefined){let data24 = data22.text;if(typeof data24 === \"string\"){if(func5(data24) < 1){const err63 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i8+\"/text\",schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/items/properties/text/minLength\",keyword:\"minLength\",params:{limit: 1},message:\"must NOT have fewer than 1 characters\"};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}}else {const err64 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i8+\"/text\",schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/items/properties/text/type\",keyword:\"type\",params:{type: \"string\"},message:\"must be string\"};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}}}else {const err65 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")+\"/\" + i8,schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/items/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}}}else {const err66 = {instancePath:instancePath+\"/task_ids/\" + key4.replace(/~/g, \"~0\").replace(/\\//g, \"~1\"),schemaPath:\"#/properties/task_ids/patternProperties/%5E%5BA-Za-z%5D%2B%5BA-Za-z0-9_-%5D*%24/type\",keyword:\"type\",params:{type: \"array\"},message:\"must be array\"};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}}}}else {const err67 = {instancePath:instancePath+\"/task_ids\",schemaPath:\"#/properties/task_ids/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}}else {const err68 = {instancePath,schemaPath:\"#/type\",keyword:\"type\",params:{type: \"object\"},message:\"must be object\"};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}validate20.errors = vErrors;return errors === 0;}\n\n//# sourceURL=webpack://ajv-play/./src/schema-validator.cjs?");

/***/ }),

/***/ "./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addEventHandlers: () => (/* binding */ addEventHandlers),\n/* harmony export */   addModelCheckEventHandler: () => (/* binding */ addModelCheckEventHandler)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n\n\n\n/**\n * UI helper function\n */\nfunction addEventHandlers(app, userEnsembleModel) {\n    // option, task ID, and interval selects\n    $('#target_variable').change(function () {\n        app.targetVariableSelected(app, this.value);\n    });\n    Object.keys(app.state.task_ids).forEach(function (taskIdKey) {\n        const $taskIdSelect = $(`#${taskIdKey}`);  // created by `createDomElements()`\n        $taskIdSelect.change(function () {\n            app.taskIdsSelected(app, _selectedTaskIDs(app));\n        });\n    });\n    $('#intervals').change(function () {\n        app.intervalSelected(app, this.value);\n    });\n\n    // truth checkboxes\n    $(\"#forecastViz_Current_Truth\").change(function () {\n        _setSelectedTruths(app);  // 'truthsSelected'\n    });\n    $(\"#forecastViz_Truth_as_of\").change(function () {\n        _setSelectedTruths(app);  // 'truthsSelected'\n    });\n\n    // Shuffle Colours button\n    $(\"#forecastViz_shuffle\").click(function () {\n        app.shuffleColors(app);\n    });\n\n    // User Ensemble Model Actions dropdown button. NB: these will not be created by initialize() if !isUemEnabled,\n    // but JQuery will not error if they don't exist :-)\n    $(\"#addUserEnsemble\").click(function (event) {\n        event.preventDefault();\n        app.addUserEnsemble(app);\n    });\n    $(\"#removeUserEnsemble\").click(function (event) {\n        event.preventDefault();\n        app.removeUserEnsemble(app);\n    });\n    $(\"#downloadUserEnsemble\").click(function (event) {\n        event.preventDefault();\n        app.downloadUserEnsemble(app, userEnsembleModel);\n    });\n    $(\"#infoUserEnsemble\").click(function (event) {\n        event.preventDefault();\n        app.infoUserEnsemble(app, userEnsembleModel);\n    });\n\n    // handle #uemEditModelNameModal activity:\n    $('#uemEditModelName').on('input', function () {\n        // validate model name edit on each keystroke, displaying the result:\n        const modelName = $('#uemEditModelName').val();\n        const isInvalid = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__._isInvalidUemName)(app.state.models, modelName);  // error message if invalid; false if valid\n        const $invalidFeedbackDiv = $('#uemEditModelNameModal .invalid-feedback');\n        const $modelNameInput = $('#uemEditModelNameModal input');\n        if (isInvalid) {\n            $invalidFeedbackDiv.html(isInvalid);\n            $invalidFeedbackDiv.show();\n            $modelNameInput.addClass('is-invalid')\n        } else {\n            $invalidFeedbackDiv.html('');\n            $invalidFeedbackDiv.hide();\n            $modelNameInput.removeClass('is-invalid')\n        }\n    });\n    $(\"#uemEditSaveButton\").click(function () {\n        const newModelName = $(\"#uemEditModelName\").val();\n        app.uemEditSaveModelName(app, userEnsembleModel, newModelName);\n    });\n    $(\"#editNameUserEnsemble\").click(function (event) {\n        event.preventDefault();\n\n        // configure and show the user model name edit modal\n        const modelName = userEnsembleModel.name;\n        $(\"#uemEditModelName\").val(modelName);  // initialize name to current\n        $('#uemEditModelNameModal').modal('show');\n    });\n\n    // \"Select Models\" checkbox\n    $(\"#forecastViz_all\").change(function () {\n        const $this = $(this);\n        const isChecked = $this.prop('checked');\n        app.toggleModels(app, isChecked);\n    });\n\n    // wire up model checkboxes\n    addModelCheckEventHandler(app);  // 'modelChecked'\n\n    // left and right buttons\n    $(\"#decrement_as_of\").click(function () {\n        app.decrementAsOf(app);\n    });\n    $(\"#increment_as_of\").click(function () {\n        app.incrementAsOf(app);\n    });\n\n    // left and right keys\n    window.addEventListener('keydown', function (event) {\n        if (event.code === \"ArrowLeft\") {\n            app.decrementAsOf(app);\n        } else if (event.code === \"ArrowRight\") {\n            app.incrementAsOf(app);\n        }\n    });\n}\n\n\n// returns the value(s) of the task ID <SELECT>(s) as an object similar to format of initial_task_ids, e.g.,\n// {\"scenario_id\": 1, \"location\": \"48\"}\nfunction _selectedTaskIDs(app) {\n    const selectedTaskIDs = {};  // return value. filled next\n    Object.keys(app.state.task_ids).forEach(function (taskIdKey) {\n        const $taskIdSelect = $(`#${taskIdKey}`);  // created by `createDomElements()`\n        selectedTaskIDs[taskIdKey] = $taskIdSelect.val();\n    });\n    return selectedTaskIDs;\n}\n\n\nfunction _setSelectedTruths(app) {\n    const isCurrTruthChecked = $(\"#forecastViz_Current_Truth\").prop('checked');\n    const isAsOfTruthChecked = $(\"#forecastViz_Truth_as_of\").prop('checked');  // \"\"\n    const selectedTruths = [];\n    if (isCurrTruthChecked) {\n        selectedTruths.push('Current Truth');\n    }\n    if (isAsOfTruthChecked) {\n        selectedTruths.push('Truth as of');\n    }\n    app.truthsSelected(app, selectedTruths);\n}\n\n\nfunction addModelCheckEventHandler(app) {\n    $(\".model-check\").change(function () {\n        const $this = $(this);\n        const model = $this.prop('id');\n        const isChecked = $this.prop('checked');\n        app.modelChecked(app, model, isChecked);\n    });\n}\n\n\n// export\n\n\n\n\n//# sourceURL=webpack://ajv-play/./src/events.js?");

/***/ }),

/***/ "./src/plot.js":
/*!*********************!*\
  !*** ./src/plot.js ***!
  \*********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPlotlyData: () => (/* binding */ getPlotlyData),\n/* harmony export */   getPlotlyLayout: () => (/* binding */ getPlotlyLayout)\n/* harmony export */ });\n//\n// Functions that abstract out plotly functionality for the app.\n//\n\nfunction getPlotlyLayout(app) {\n    const state = app.state;\n    const uiState = app.uiState;\n    if (state.target_variables.length === 0) {\n        return {};\n    }\n\n    const variable = state.target_variables.filter((obj) => obj.value === uiState.selected_target_var)[0].plot_text;\n    const taskIdVals = Object.values(uiState.selected_task_ids);  // e.g., {\"scenario_id\": 1, \"location\": \"48\"} -> [1, \"48\"]\n    return {\n        autosize: true,\n        showlegend: false,\n        title: {\n            text: `Forecasts of ${variable} <br> in ${taskIdVals} as of ${uiState.selected_as_of_date}`,\n            x: 0.5,\n            y: 0.90,\n            xanchor: 'center',\n            yanchor: 'top',\n        },\n        xaxis: {\n            title: {text: 'Date'},\n            rangeslider: {},\n        },\n        yaxis: {\n            title: {text: variable, hoverformat: '.2f'},\n            fixedrange: false\n        }\n    }\n}\n\n\nfunction getPlotlyData(app) {\n    const state = app.state;\n    const uiState = app.uiState;\n    let pd = [];\n    if (uiState.selected_truth.includes('Current Truth') && Object.keys(state.current_truth).length !== 0) {\n        pd.push({\n            x: state.current_truth.date,\n            y: state.current_truth.y,\n            type: 'scatter',\n            mode: 'lines',\n            name: 'Current Truth',\n            marker: {color: 'darkgray'}\n        })\n    }\n    if (uiState.selected_truth.includes('Truth as of') && Object.keys(state.as_of_truth).length !== 0) {\n        pd.push({\n            x: state.as_of_truth.date,\n            y: state.as_of_truth.y,\n            type: 'scatter',\n            mode: 'lines',\n            opacity: 0.5,\n            name: `Truth as of ${uiState.selected_as_of_date}`,\n            marker: {color: 'black'}\n        })\n    }\n\n    let pd0 = []\n    if (state.forecasts.length !== 0) {\n        // add the line for predictive medians\n        pd0 = Object.keys(state.forecasts).map((model) => {\n            if (uiState.selected_models.includes(model)) {\n                const index = state.models.indexOf(model)\n                const model_forecasts = state.forecasts[model]\n                const date = model_forecasts.target_end_date\n                const lq1 = model_forecasts['q0.025']\n                const lq2 = model_forecasts['q0.25']\n                const mid = model_forecasts['q0.5']\n                const uq1 = model_forecasts['q0.75']\n                const uq2 = model_forecasts['q0.975']\n\n                // 1-3: sort model forecasts in order of target end date\n                // 1) combine the arrays:\n                const list = []\n                for (let j = 0; j < date.length; j++) {\n                    list.push({\n                        date: date[j],\n                        lq1: lq1[j],\n                        lq2: lq2[j],\n                        uq1: uq1[j],\n                        uq2: uq2[j],\n                        mid: mid[j]\n                    })\n                }\n\n                // 2) sort:\n                list.sort((a, b) => (moment(a.date).isBefore(b.date) ? -1 : 1))\n\n                // 3) separate them back out:\n                for (let k = 0; k < list.length; k++) {\n                    model_forecasts.target_end_date[k] = list[k].date\n                    model_forecasts['q0.025'][k] = list[k].lq1\n                    model_forecasts['q0.25'][k] = list[k].lq2\n                    model_forecasts['q0.5'][k] = list[k].mid\n                    model_forecasts['q0.75'][k] = list[k].uq1\n                    model_forecasts['q0.975'][k] = list[k].uq2\n                }\n\n                const x = [];\n                if (Object.keys(state.as_of_truth).length !== 0) {\n                    x.push(state.as_of_truth.date.slice(-1)[0]);\n                }\n                x.push(model_forecasts.target_end_date.slice(0)[0]);\n\n                const y = [];\n                if (Object.keys(state.as_of_truth).length !== 0) {\n                    y.push(state.as_of_truth.y.slice(-1)[0]);\n                }\n                y.push(model_forecasts['q0.5'].slice(0)[0]);\n\n                return {\n                    x: x,\n                    y: y,\n                    mode: 'lines',\n                    type: 'scatter',\n                    name: model,\n                    hovermode: false,\n                    opacity: 0.7,\n                    line: {color: uiState.colors[index]},\n                    hoverinfo: 'none'\n                };\n            }\n            return []\n        })\n    }\n    pd = pd0.concat(...pd)\n\n    // add interval polygons\n    let pd1 = []\n    if (state.forecasts.length !== 0) {\n        pd1 = Object.keys(state.forecasts).map((model) => {  // notes that state.forecasts are still sorted\n            if (uiState.selected_models.includes(model)) {\n                const index = state.models.indexOf(model)\n                const is_hosp = uiState.selected_target_var === 'hosp'\n                const mode = is_hosp ? 'lines' : 'lines+markers'\n                const model_forecasts = state.forecasts[model]\n                let upper_quantile\n                let lower_quantile\n                const plot_line = {\n                    // point forecast\n                    x: model_forecasts.target_end_date,\n                    y: model_forecasts['q0.5'],\n                    type: 'scatter',\n                    name: model,\n                    opacity: 0.7,\n                    mode,\n                    line: {color: uiState.colors[index]}\n                }\n\n                if (uiState.selected_interval === '50%') {\n                    lower_quantile = 'q0.25'\n                    upper_quantile = 'q0.75'\n                } else if (uiState.selected_interval === '95%') {\n                    lower_quantile = 'q0.025'\n                    upper_quantile = 'q0.975'\n                } else {\n                    return [plot_line]\n                }\n\n                const x = Object.keys(state.as_of_truth).length !== 0 ?\n                    state.as_of_truth.date.slice(-1).concat(model_forecasts.target_end_date) :\n                    model_forecasts.target_end_date;\n                const y1 = Object.keys(state.as_of_truth).length !== 0 ?\n                    state.as_of_truth.y.slice(-1).concat(model_forecasts[lower_quantile]) :  // lower edge\n                    model_forecasts[lower_quantile];\n                const y2 = Object.keys(state.as_of_truth).length !== 0 ?\n                    state.as_of_truth.y.slice(-1).concat(model_forecasts[upper_quantile]) :\n                    model_forecasts[upper_quantile];  // upper edge\n                return [\n                    plot_line,\n                    {\n                        // interval forecast -- currently fixed at 50%\n                        x: [].concat(x, x.slice().reverse()),\n                        y: [].concat(y1, y2.slice().reverse()),\n                        fill: 'toself',\n                        fillcolor: uiState.colors[index],\n                        opacity: 0.3,\n                        line: {color: 'transparent'},\n                        type: 'scatter',\n                        name: model,\n                        showlegend: false,\n                        hoverinfo: 'skip'\n                    }\n                ]\n            }\n            return []\n        })\n    }\n    pd = pd.concat(...pd1)\n\n    // done!\n    return pd\n}\n\n\n// export\n\n\n\n\n//# sourceURL=webpack://ajv-play/./src/plot.js?");

/***/ }),

/***/ "./src/predtimechart.js":
/*!******************************!*\
  !*** ./src/predtimechart.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events.js */ \"./src/events.js\");\n/* harmony import */ var _plot_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plot.js */ \"./src/plot.js\");\n/* harmony import */ var _ui_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui.js */ \"./src/ui.js\");\n/* harmony import */ var _user_ensemble_model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-ensemble-model.js */ \"./src/user-ensemble-model.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/* harmony import */ var _validation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validation.js */ \"./src/validation.js\");\n/**\n * predtimechart: A JavaScript (ES6 ECMAScript) module for forecast visualization.\n */\n\n\n\n\n\n\n\n\n\n//\n// user ensemble model (UEM) functions\n//\n\nconst USER_ENSEMBLE_MODEL = {  // contains all information about the model\n    name: 'User-Ensemble',  // must be a valid name, e.g., no spaces, commas, etc.\n    models: [],             // list of model names making up current UEM when it was added by addUserEnsembleModel()\n    lastError: null        // Error from last call to _calcUemForecasts()\n}\n\n\n//\n// App\n//\n\n// this implements a straightforward SPA with state - based on https://dev.to/vijaypushkin/dead-simple-state-management-in-vanilla-javascript-24p0\nconst App = {\n\n    //\n    // non-options vars passed to `initialize()`\n    //\n\n    isIndicateRedraw: false,  // true if app should set plot opacity when loading data\n    _fetchData: null,         // as documented in `initialize()`\n\n    _calcUemForecasts: null,  // user ensemble model computation function as documented in `initialize()`\n    isUemEnabled: true,       // true if user ensemble model feature is enabled\n\n\n    //\n    // UI state (dynamic - updated by DOM as user interacts)\n    //\n\n    uiState: {\n        selected_target_var: '',\n        selected_task_ids: {},  // currently-selected task IDs - an object formatted like `initial_task_ids`, ex: {\"scenario_id\": 1, \"location\": \"48\"}\n        selected_interval: '',\n        selected_as_of_date: '',\n        selected_truth: ['Current Truth', 'Truth as of'],\n        selected_models: [],\n        last_selected_models: [],  // last manually-selected models. used by \"Select Models\" checkbox\n        colors: [],\n    },\n\n\n    //\n    // app state\n    //\n\n    state: {\n        // Static data, fixed at time of creation:\n        target_variables: [],\n        task_ids: [],\n        intervals: [],\n        available_as_ofs: [],\n        current_date: \"\",\n        models: [],\n        initial_xaxis_range: null,  // optional initialize() options object key\n\n        // Dynamic Data, used to create plots:\n        current_truth: [],\n        as_of_truth: [],\n        forecasts: {},\n    },\n\n\n    //\n    // initialization-related functions\n    //\n\n    /**\n     * Initialize this app using the passed args.\n     *\n     * @param {String} componentDiv - id of a DOM node to populate. it must be an empty Bootstrap 4 row\n     * @param {Function} _fetchData - function as documented in README.md .\n     *   args: isForecast, targetKey, taskIDs, referenceDate\n     * @param {Boolean} isIndicateRedraw - controls whether the plot area should be grayed out while waiting for data\n     *   requests\n     * @param {Object} options - visualization initialization options as documented at https://docs.zoltardata.com/visualizationoptionspage/\n     * @param {Function} _calcUemForecasts - optional human judgement ensemble model function as documented in forecast-repository/forecast_app/templates/project_viz.html .\n     *   args: componentModels, targetKey, referenceDate, userModelName. NB: pass null for the function to disable the\n     *   feature.\n     */\n    initialize(componentDiv, _fetchData, isIndicateRedraw, options, _calcUemForecasts) {\n        this._fetchData = _fetchData;\n        this.isIndicateRedraw = isIndicateRedraw;\n        this._calcUemForecasts = _calcUemForecasts;\n\n        console.debug('initialize(): entered');\n\n        // validate componentDiv\n        const componentDivEle = document.getElementById(componentDiv);\n        if (componentDivEle === null) {\n            throw `componentDiv DOM node not found: '${componentDiv}'`;\n        }\n\n        // validate options object\n        (0,_validation_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(options);\n\n        // save static vars\n        this.state.target_variables = options['target_variables'];\n        this.state.task_ids = options['task_ids'];\n        this.state.intervals = options['intervals'];\n        this.state.available_as_ofs = options['available_as_ofs'];\n        this.state.current_date = options['current_date'];\n        this.state.models = options['models'];\n        this.state.initial_xaxis_range = options.hasOwnProperty('initial_xaxis_range') ? options['initial_xaxis_range'] : null;\n\n        // save initial UI state (reflected in UI by `initializeUI()`)\n        this.uiState.colors = Array(parseInt(this.state.models.length / 10, 10) + 1).fill([\n            '#0d0887',\n            '#46039f',\n            '#7201a8',\n            '#9c179e',\n            '#bd3786',\n            '#d8576b',\n            '#ed7953',\n            '#fb9f3a',\n            '#fdca26',\n            '#f0f921'\n        ]).flat()\n        this.uiState.selected_target_var = options['initial_target_var'];\n        this.uiState.selected_task_ids = options['initial_task_ids'];\n        this.uiState.selected_interval = options['initial_interval'];\n        this.uiState.selected_as_of_date = options['initial_as_of'];\n        // this.uiState.selected_truth: synchronized via default <input ... checked> setting\n        this.uiState.selected_models = options['initial_checked_models'];\n\n        // populate UI elements, setting selection state to initial\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.initializeUEMModals)();  // done here instead of initializeUI() so below `modal('show')` will work\n\n        // disable human judgement ensemble model feature if requested or if default model name conflict\n        if (typeof (_calcUemForecasts) != 'function') {\n            console.log('disabling human judgement ensemble model feature', _calcUemForecasts, typeof (_calcUemForecasts));\n            this.isUemEnabled = false;\n        } else if (this.state.models.includes(USER_ENSEMBLE_MODEL.name)) {\n            // oops: default user ensemble model name is taken. try once to generate a unique one\n            const newUemName = USER_ENSEMBLE_MODEL.name + '_' + Math.floor(Date.now() / 1000);  // timestamp in seconds\n            if (this.state.models.includes(newUemName)) {\n                console.warn('USER_ENSEMBLE_MODEL.name conflict. disabling human judgement ensemble model feature',\n                    USER_ENSEMBLE_MODEL.name, this.state.models);\n                (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.showInfoModal)('Disabling human judgement ensemble model feature',\n                    `The default name '${USER_ENSEMBLE_MODEL.name}' was in the models list.`);\n            } else {\n                USER_ENSEMBLE_MODEL.name = newUemName;\n                console.warn('USER_ENSEMBLE_MODEL.name conflict. renamed', USER_ENSEMBLE_MODEL.name,\n                    this.state.models, newUemName);\n            }\n        }\n\n        console.log('initialize(): initializing UI');\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.createDomElements)(componentDiv, this.isUemEnabled, Object.keys(this.state.task_ids));\n        this.initializeUI(options['disclaimer']);\n\n        // wire up UI controls (event handlers)\n        (0,_events_js__WEBPACK_IMPORTED_MODULE_0__.addEventHandlers)(this, USER_ENSEMBLE_MODEL);\n\n        // pull initial data (current truth, selected truth, and selected forecast) and update the plot\n        console.log('initialize(): fetching data and updating plot');\n        this.fetchDataUpdatePlot(true, true, false);\n\n        console.log('initialize(): done');\n    },\n\n    initializeUI(disclaimer) {\n        // populate options and models list (left column)\n        this.initializeTargetVarsUI();\n        this.initializeTaskIDsUI();\n        this.initializeIntervalsUI();\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateModelsList)(this, USER_ENSEMBLE_MODEL);\n\n        // initialize current and as_of truth checkboxes' text\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateTruthCheckboxText)(true, this.state.current_date);            // current\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateTruthCheckboxText)(false, this.uiState.selected_as_of_date);  // as_of\n\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.setDisclaimer)(disclaimer)\n\n        // initialize plotly (right column)\n        const plotlyDiv = (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.getPlotlyDiv)();\n        const data = []  // data will be update by `updatePlot()`\n        const layout = (0,_plot_js__WEBPACK_IMPORTED_MODULE_1__.getPlotlyLayout)(this);\n        const calendarIcon = {  // https://fontawesome.com/icons/calendar-days?f=classic&s=solid\n            'width': 448,\n            'height': 512,\n            'path': \"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z\"\n        };\n        Plotly.newPlot(plotlyDiv, data, layout, {\n            modeBarButtonsToRemove: ['lasso2d', 'autoScale2d'],\n            modeBarButtonsToAdd: [{\n                name: 'Jump to As_Of',\n                icon: calendarIcon,\n                click: () => null,  // click (required here) is handled by daterangepicker below\n            }]\n        });\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.initializeDateRangePicker)(this);  // b/c jquery binding is apparently lost with any Plotly.*() call\n    },\n\n    initializeTargetVarsUI() {\n        // populate the target variable <SELECT>\n        const $targetVarsSelect = $(\"#target_variable\");\n        const thisUIState = this.uiState;\n        // $targetVarsSelect.empty();\n        this.state.target_variables.forEach(function (targetVar) {\n            const selected = targetVar.value === thisUIState.selected_target_var ? 'selected' : '';\n            const optionNode = `<option value=\"${targetVar.value}\" ${selected} >${targetVar.text}</option>`;\n            $targetVarsSelect.append(optionNode);\n        });\n    },\n\n    initializeTaskIDsUI() {\n        // populate task ID-related <SELECT>s\n        const thisState = this.state;\n        const initialTaskIds = this.uiState.selected_task_ids;\n        Object.keys(this.state.task_ids).forEach(function (taskIdKey) {\n            const $taskIdSelect = $(`#${taskIdKey}`);  // created by `createDomElements()`\n            // $taskIdSelect.empty();\n            const taskIdValueObjs = thisState.task_ids[taskIdKey];\n            taskIdValueObjs.forEach(taskIdValueObj => {\n                const selected = taskIdValueObj.value === initialTaskIds[taskIdKey] ? 'selected' : '';\n                const optionNode = `<option value=\"${taskIdValueObj.value}\" ${selected} >${taskIdValueObj.text}</option>`;\n                $taskIdSelect.append(optionNode);\n            });\n        });\n    },\n\n    initializeIntervalsUI() {\n        // populate the interval <SELECT>\n        const $intervalsSelect = $(\"#intervals\");\n        const thisUIState = this.uiState;\n        // $intervalsSelect.empty();\n        this.state.intervals.forEach(function (interval) {\n            const selected = interval === thisUIState.selected_interval ? 'selected' : '';\n            const optionNode = `<option value=\"${interval}\" ${selected} >${interval}</option>`;\n            $intervalsSelect.append(optionNode);\n        });\n    },\n\n    //\n    // event handler functions\n    //\n\n    // Returns an array of models that are not grayed out.\n    selectableModels() {\n        return this.state.models.filter(function (element, index) {\n            return index < 100;  // todo xx bug? see how `updateModelsList()` splits them apart - it's NOT at 100!\n        });\n    },\n\n    //\n    // date fetch-related functions\n    //\n\n    /**\n     * Updates the plot, optionally first fetching data.\n     *\n     * @param isFetchFirst true if should fetch before plotting. false if no fetch\n     * @param isFetchCurrentTruth applies if isFetchFirst: controls whether current truth is fetched in addition to\n     *   as_of truth and forecasts. ignored if not isFetchFirst\n     * @param isPreserveYLimit passed to updatePlot() - see\n     */\n    fetchDataUpdatePlot(isFetchFirst, isFetchCurrentTruth, isPreserveYLimit) {\n        if (isFetchFirst) {\n            const promises = [this.fetchAsOfTruth(), this.fetchForecasts()];\n            if (isFetchCurrentTruth) {\n                promises.push(this.fetchCurrentTruth());\n            }\n            console.log(`fetchDataUpdatePlot(${isFetchFirst}, ${isFetchCurrentTruth}, ${isPreserveYLimit}): waiting on promises`);\n            // const $plotlyDiv = $('#ploty_div');\n            const $plotlyDiv = $((0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.getPlotlyDiv)());\n            if (this.isIndicateRedraw) {\n                $plotlyDiv.fadeTo(0, 0.25);\n            }\n            Promise.all(promises).then((values) => {\n                console.log(`fetchDataUpdatePlot(${isFetchFirst}, ${isFetchCurrentTruth}, ${isPreserveYLimit}): Promise.all() done. updating plot`, values);\n\n                // update user ensemble model if any\n                if (this.isUemEnabled && this.state.models.includes(USER_ENSEMBLE_MODEL.name)) {\n                    try {\n                        this.state.forecasts[USER_ENSEMBLE_MODEL.name] = (0,_user_ensemble_model_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(USER_ENSEMBLE_MODEL.models, this.state.forecasts);  // replaces if present\n                        USER_ENSEMBLE_MODEL.lastError = null;\n                        console.log('fetchDataUpdatePlot(): forecasts:', this.state.forecasts[USER_ENSEMBLE_MODEL.name]);\n                    } catch (error) {\n                        USER_ENSEMBLE_MODEL.lastError = error;\n                        console.warn(`fetchDataUpdatePlot(): error calling _calcUemForecasts(): ${error}`);\n                    }\n                }\n\n                (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateModelsList)(this, USER_ENSEMBLE_MODEL);\n                this.updatePlot(isPreserveYLimit);\n                if (this.isIndicateRedraw) {\n                    $plotlyDiv.fadeTo(0, 1.0);\n                }\n            });\n        } else {\n            console.log(`fetchDataUpdatePlot(${isFetchFirst}, ${isFetchCurrentTruth}, ${isPreserveYLimit}): updating plot`);\n            this.updatePlot(isPreserveYLimit);\n        }\n    },\n\n    fetchCurrentTruth() {\n        this.state.current_truth = [];  // clear in case of error\n        return this._fetchData(false,  // Promise\n            this.uiState.selected_target_var, this.uiState.selected_task_ids, this.state.current_date)\n            .then(response => response.json())\n            .then((data) => {\n                this.state.current_truth = data;\n            })\n            .catch(error => console.log(`fetchCurrentTruth(): error: ${error.message}`));\n    },\n\n    fetchAsOfTruth() {\n        this.state.as_of_truth = [];  // clear in case of error\n        return this._fetchData(false,  // Promise\n            this.uiState.selected_target_var, this.uiState.selected_task_ids, this.uiState.selected_as_of_date)\n            .then(response => response.json())\n            .then((data) => {\n                this.state.as_of_truth = data;\n            })\n            .catch(error => console.log(`fetchAsOfTruth(): error: ${error.message}`));\n    },\n\n    fetchForecasts() {\n        this.state.forecasts = {};  // clear in case of error\n        return this._fetchData(true,  // Promise\n            this.uiState.selected_target_var, this.uiState.selected_task_ids, this.uiState.selected_as_of_date)\n            .then(response => response.json())  // Promise\n            .then((data) => {\n                this.state.forecasts = data;\n            })\n            .catch(error => console.log(`fetchForecasts(): error: ${error.message}`));\n    },\n\n    //\n    // user ensemble model-related functions\n    //\n\n    /**\n     * Creates a user ensemble model (UEM) named USER_ENSEMBLE_MODEL.name using the currently-selected models in\n     * #forecastViz_select_model and then updates this.state.models and this.uiState.selected_models. Does not call\n     * removeUserEnsembleModel() first. Does not call updateModelsList() or updatePlot() after.\n     */\n    addUserEnsembleModel() {\n        // validate componentModels: there must be at least two\n        const componentModels = this.uiState.selected_models.filter(function (value) {\n            return value !== USER_ENSEMBLE_MODEL.name;\n        });\n\n        // validation #1\n        if (componentModels.length <= 1) {\n            console.warn(`addUserEnsembleModel(): must select two or more componentModels. #selected=${componentModels.length}`);\n            (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.showInfoModal)('Invalid Component Models',\n                `Must select two or more componentModels (${componentModels.length} selected).`);\n            return;\n        }\n\n        try {\n            this.state.forecasts[USER_ENSEMBLE_MODEL.name] = (0,_user_ensemble_model_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(componentModels, this.state.forecasts);  // replaces if present\n            USER_ENSEMBLE_MODEL.lastError = null;\n            console.log('addUserEnsembleModel(): forecasts:', this.state.forecasts[USER_ENSEMBLE_MODEL.name]);\n        } catch (error) {\n            USER_ENSEMBLE_MODEL.lastError = error;\n            console.warn(`addUserEnsembleModel(): error calling _calcUemForecasts(): ${error}`);\n        }\n\n        if (!this.state.models.includes(USER_ENSEMBLE_MODEL.name)) {\n            this.state.models.unshift(USER_ENSEMBLE_MODEL.name);  // add to front so sorts at top of models list\n        }\n        if (!this.uiState.selected_models.includes(USER_ENSEMBLE_MODEL.name)) {\n            this.uiState.selected_models.push(USER_ENSEMBLE_MODEL.name);  // write\n        }\n        USER_ENSEMBLE_MODEL.models.length = 0;  // quick way to clear an array\n        USER_ENSEMBLE_MODEL.models.push(...componentModels);\n        console.log('addUserEnsembleModel(): created:', USER_ENSEMBLE_MODEL.name, USER_ENSEMBLE_MODEL.models);\n    },\n\n    /**\n     * Removes the user ensemble model (UEM) named USER_ENSEMBLE_MODEL.name, if any. Like addUserEnsembleModel(), only\n     * updates this.state.models and this.uiState.selected_models variables.\n     */\n    removeUserEnsembleModel() {\n        delete this.state.forecasts[USER_ENSEMBLE_MODEL.name];\n        this.state.models = this.state.models.filter(item => item !== USER_ENSEMBLE_MODEL.name)\n        this.uiState.selected_models = this.uiState.selected_models.filter(item => item !== USER_ENSEMBLE_MODEL.name)  // write\n        USER_ENSEMBLE_MODEL.models.length = 0;  // quick way to clear an array\n        USER_ENSEMBLE_MODEL.lastError = null;\n    },\n\n    //\n    // plot-related functions\n    //\n\n    /**\n     * Updates the plot, preserving any current xaxis range limit, and optionally any current yaxis range limit\n     *\n     * @param isPreserveYLimit true if should preserve any yaxis range limit currently set\n     */\n    updatePlot(isPreserveYLimit) {\n        const plotlyDiv = (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.getPlotlyDiv)();\n        const data = (0,_plot_js__WEBPACK_IMPORTED_MODULE_1__.getPlotlyData)(this);\n        let layout = (0,_plot_js__WEBPACK_IMPORTED_MODULE_1__.getPlotlyLayout)(this);\n        if (data.length === 0) {\n            layout = {title: {text: 'No Visualization Data Found'}};\n        }\n\n        // before updating the plot we preserve the xaxis rangeslider range limit (\"zoom\") by retrieving it, redrawing\n        // the plot, and then re-laying it out. NB: the default xaxis.range seems to be [-1, 6] when updating for the\n        // first time (yaxis = [-1, 4]), so we check for the range being those arrays to determine whether to preserve\n        // or not\n        const currXAxisRange = plotlyDiv.layout.xaxis.range;\n        const currYAxisRange = plotlyDiv.layout.yaxis.range;\n        const isXAxisRangeDefault = ((currXAxisRange.length === 2) && (currXAxisRange[0] === -1) && (currXAxisRange[1] === 6));\n        const isYAxisRangeDefault = ((currYAxisRange.length === 2) && (currYAxisRange[0] === -1) && (currYAxisRange[1] === 4));\n        Plotly.react(plotlyDiv, data, layout);\n        if (!isXAxisRangeDefault) {\n            Plotly.relayout(plotlyDiv, 'xaxis.range', currXAxisRange);\n        }\n        if (isPreserveYLimit && !isYAxisRangeDefault) {\n            Plotly.relayout(plotlyDiv, 'yaxis.range', currYAxisRange);\n        }\n\n        // optionally handle initial_xaxis_range\n        if (isXAxisRangeDefault && (this.state.initial_xaxis_range != null)) {\n            Plotly.relayout(plotlyDiv, 'xaxis.range', this.state.initial_xaxis_range);\n        }\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.initializeDateRangePicker)(this);  // b/c jquery binding is apparently lost with any Plotly.*() call\n    },\n\n\n    //\n    // event handlers (called by `addEventHandlers()`)\n    //\n\n    addUserEnsemble(app) {\n        console.debug(\"addUserEnsemble click\", app.uiState.selected_models);\n        app.removeUserEnsembleModel();\n        app.addUserEnsembleModel();\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateModelsList)(app, USER_ENSEMBLE_MODEL);\n        app.updatePlot(true);\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateUEMActions)(true);\n    },\n\n    decrementAsOf(app) {\n        const appState = app.state;\n        const appUIState = app.uiState;\n        const as_of_index = appState.available_as_ofs[appUIState.selected_target_var].indexOf(appUIState.selected_as_of_date);\n        if (as_of_index > 0) {\n            appUIState.selected_as_of_date = appState.available_as_ofs[appUIState.selected_target_var][as_of_index - 1];  // write\n            app.fetchDataUpdatePlot(true, false, true);\n            (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateTruthCheckboxText)(false, this.uiState.selected_as_of_date);  // as_of\n        }\n    },\n\n    downloadUserEnsemble(app, userEnsembleModel) {\n        const appUIState = app.uiState;\n        console.debug(\"#downloadUserEnsemble click\", userEnsembleModel.models, appUIState.selected_target_var, appUIState.selected_as_of_date);\n        let fileName = '';\n        app._calcUemForecasts(userEnsembleModel.models, appUIState.selected_target_var, appUIState.selected_as_of_date, userEnsembleModel.name)  // Promise\n            .then(response => {\n                if (!response.ok) {\n                    console.error('#downloadUserEnsemble click: bad response', response);\n                    return response.text().then(text => {\n                        throw new Error(text);\n                    })\n                }\n\n                // contentDisposition is like: \"attachment; filename=\\\"2022-01-29-User-Ensemble.csv\\\"\"\n                const contentDisposition = Object.fromEntries(response.headers)['content-disposition'];\n                fileName = contentDisposition.split('\"')[1];\n                return response.text();\n            })\n            .then((text) => {\n                console.debug(\"#downloadUserEnsemble click: data\", typeof (text), fileName);\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.download)(text, 'text/csv', fileName);\n                console.debug(\"#downloadUserEnsemble click: download() done\");\n                (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.showInfoModal)('CSV File Downloaded', `User ensemble downloaded to \"${fileName}\".`);\n            })\n            .catch(error => {  // NB: fetch() does not generate an error for 4__ responses\n                console.error(`#downloadUserEnsemble click: error: ${error.message}`)\n                ;(0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.showInfoModal)('Error Downloading CVS File', `\"${error.message}\"`);\n            });\n    },\n\n    incrementAsOf(app) {\n        const appState = app.state;\n        const appUIState = app.uiState;\n        const as_of_index = appState.available_as_ofs[appUIState.selected_target_var].indexOf(appUIState.selected_as_of_date);\n        if (as_of_index < appState.available_as_ofs[appUIState.selected_target_var].length - 1) {\n            appUIState.selected_as_of_date = appState.available_as_ofs[appUIState.selected_target_var][as_of_index + 1];  // write\n            app.fetchDataUpdatePlot(true, false, true);\n            (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateTruthCheckboxText)(false, this.uiState.selected_as_of_date);  // as_of\n        }\n    },\n\n    infoUserEnsemble(app, userEnsembleModel) {\n        // configure and show the info modal\n        const modelName = userEnsembleModel.name;\n        const componentModels = userEnsembleModel.models.join(\", \");\n        const lastError = (userEnsembleModel.lastError === null) ? '(no errors)' : userEnsembleModel.lastError;\n\n        // todo xx these should be calls to an events.js function!:\n        const $userInfoForm = $(\n            '<form>\\n' +\n            '  <div class=\"form-group\">\\n' +\n            '    <label for=\"model-name\" class=\"col-form-label\">Model name:</label>\\n' +\n            `    <input type=\"text\" class=\"form-control\" id=\"model-name\" readonly value=\"${modelName}\">\\n` +\n            '  </div>\\n' +\n            '  <div class=\"form-group\">\\n' +\n            '    <label for=\"model-list\" class=\"col-form-label\">Component models:</label>\\n' +\n            `    <input type=\"text\" class=\"form-control\" id=\"model-list\" readonly value=\"${componentModels}\">\\n` +\n            '  </div>\\n' +\n            '  <div class=\"form-group\">\\n' +\n            '    <label for=\"last-error\" class=\"col-form-label\">Last error:</label>\\n' +\n            `    <textarea class=\"form-control\" id=\"last-error\" readonly>${lastError}</textarea>\\n` +\n            '  </div>\\n' +\n            '</form>'\n        );\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.showInfoModal)('User Ensemble Settings', $userInfoForm);\n    },\n\n    intervalSelected(app, selectedInterval) {\n        app.uiState.selected_interval = selectedInterval;  // write\n        app.fetchDataUpdatePlot(false, null, true);\n    },\n\n    modelChecked(app, model, isChecked) {\n        const appUIState = app.uiState;\n        const isInSelectedModels = (appUIState.selected_models.indexOf(model) > -1);\n        if (isChecked && !isInSelectedModels) {\n            appUIState.selected_models.push(model);  // write\n        } else if (!isChecked && isInSelectedModels) {\n            appUIState.selected_models = appUIState.selected_models.filter(function (value) {  // write\n                return value !== model;\n            });  // appUIState.selected_models.remove(model);\n        }\n        app.fetchDataUpdatePlot(false, null, true);\n    },\n\n    removeUserEnsemble(app) {\n        app.removeUserEnsembleModel();\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateModelsList)(app, USER_ENSEMBLE_MODEL);\n        app.updatePlot(true);\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateUEMActions)(false);\n    },\n\n    shuffleColors(app) {\n        const appUIState = app.uiState;\n        appUIState.colors = appUIState.colors.sort(() => 0.5 - Math.random())  // write\n        ;(0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.updateModelsList)(app, USER_ENSEMBLE_MODEL);\n        app.updatePlot(true);\n    },\n\n    targetVariableSelected(app, selectedTargetVar) {\n        app.uiState.selected_target_var = selectedTargetVar;  // write\n        app.fetchDataUpdatePlot(true, true, false);\n    },\n\n    taskIdsSelected(app, selectedTaskIds) {\n        app.uiState.selected_task_ids = selectedTaskIds;  // write\n        app.fetchDataUpdatePlot(true, true, false);\n    },\n\n    toggleModels(app, isChecked) {\n        const appUIState = app.uiState;\n        if (isChecked) {\n            appUIState.last_selected_models = appUIState.selected_models;  // write\n            appUIState.selected_models = app.selectableModels();           // write\n        } else {\n            appUIState.selected_models = appUIState.last_selected_models;  // write\n        }\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_2__.checkModels)(app, appUIState.selected_models);\n        app.updatePlot(true);\n    },\n\n    truthsSelected(app, selectedTruths) {\n        app.uiState.selected_truth = selectedTruths;  // write\n        app.fetchDataUpdatePlot(false, null, true);\n    },\n\n    uemEditSaveModelName(app, userEnsembleModel, newModelName) {\n        // save the new name (assumed valid)\n        userEnsembleModel.name = newModelName;\n        console.info(`saved new user ensemble model name: '${newModelName}'`);\n    },\n\n};\n\n\n// export\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);  // export the module's main entry point\n\n\n//# sourceURL=webpack://ajv-play/./src/predtimechart.js?");

/***/ }),

/***/ "./src/styles.js":
/*!***********************!*\
  !*** ./src/styles.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _predtimechart_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./predtimechart.css */ \"./src/predtimechart.css\");\n\n\n\n//# sourceURL=webpack://ajv-play/./src/styles.js?");

/***/ }),

/***/ "./src/ui.js":
/*!*******************!*\
  !*** ./src/ui.js ***!
  \*******************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkModels: () => (/* binding */ checkModels),\n/* harmony export */   createDomElements: () => (/* binding */ createDomElements),\n/* harmony export */   getPlotlyDiv: () => (/* binding */ getPlotlyDiv),\n/* harmony export */   initializeDateRangePicker: () => (/* binding */ initializeDateRangePicker),\n/* harmony export */   initializeUEMModals: () => (/* binding */ initializeUEMModals),\n/* harmony export */   setDisclaimer: () => (/* binding */ setDisclaimer),\n/* harmony export */   showInfoModal: () => (/* binding */ showInfoModal),\n/* harmony export */   updateModelsList: () => (/* binding */ updateModelsList),\n/* harmony export */   updateTruthCheckboxText: () => (/* binding */ updateTruthCheckboxText),\n/* harmony export */   updateUEMActions: () => (/* binding */ updateUEMActions)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/utils.js\");\n/* harmony import */ var _events_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events.js */ \"./src/events.js\");\n//\n// Functions that abstract out DOM management for the app.\n//\n\n\n\n\n/**\n * UI helper that creates the two modals usedto view and edit user ensemble model.\n */\nfunction initializeUEMModals() {\n    const $uemInfoModalDiv = $(\n        '<div class=\"modal fade\" id=\"uemInfoModal\" tabIndex=\"-1\" aria-labelledby=\"uemInfoModalTitle\"\\n' +\n        '     aria-hidden=\"true\">\\n' +\n        '    <div class=\"modal-dialog\">\\n' +\n        '        <div class=\"modal-content\">\\n' +\n        '            <div class=\"modal-header\">\\n' +\n        '                <h5 class=\"modal-title\" id=\"uemInfoModalTitle\">(title here)</h5>\\n' +\n        '                <a class=\"close\" data-dismiss=\"modal\">&times;</a>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"modal-body\" id=\"uemInfoModalBody\">(body here)</div>\\n' +\n        '            <div class=\"modal-footer\">\\n' +\n        '                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>'\n    );\n    $(document.body).append($uemInfoModalDiv);\n\n    // form onsubmit trick per https://stackoverflow.com/questions/15239236/bootstrap-modal-dialogs-with-a-single-text-input-field-always-dismiss-on-enter-k\n    const $uemEditModelNameModalDiv = $(\n        '<div class=\"modal fade\" id=\"uemEditModelNameModal\" tabIndex=\"-1\" aria-labelledby=\"uemInfoModalTitle\"\\n' +\n        '     aria-hidden=\"true\">\\n' +\n        '    <div class=\"modal-dialog\">\\n' +\n        '        <div class=\"modal-content\">\\n' +\n        '            <div class=\"modal-header\">\\n' +\n        '                <h5 class=\"modal-title\" id=\"uemInfoModalTitle\">User Ensemble Model Name</h5>\\n' +\n        '                <a class=\"close\" data-dismiss=\"modal\">&times;</a>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"modal-body\">\\n' +\n        '               <form novalidate onsubmit=\"return false\">\\n' +\n        '                   <div class=\"form-group\">\\n' +\n        '                       <label for=\"model-name\" class=\"col-form-label\">Model name:</label>\\n' +\n        '                       <input type=\"text\" class=\"form-control is-valid\" id=\"uemEditModelName\" value=\"(name here)\">\\n' +\n        '                       <div class=\"invalid-feedback hidden\">(invalid here)</div>\\n' +\n        '                   </div>\\n' +\n        '               </form>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"modal-footer\">\\n' +\n        '                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\\n' +\n        '                <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" id=\"uemEditSaveButton\">Save</button>\\n' +\n        '           </div>\\n' +\n        '    </div>\\n' +\n        '</div>'\n    );\n    $(document.body).append($uemEditModelNameModalDiv);\n}\n\n\n/**\n * Utility that shows a modal dialog with the passed title and body. Requires that `initializeUEMModals()` was called\n * once prior.\n *\n * @param title\n * @param body\n */\nfunction showInfoModal(title, body) {\n    $('#uemInfoModalTitle').html(title);\n    $('#uemInfoModalBody').html(body);\n    $('#uemInfoModal').modal('show');\n}\n\n\n/**\n * UI helper that builds UI by adding DOM elements to componentDiv. the UI is one row with two columns: options on left\n * and the plotly plot on the right\n *\n * @param componentDiv - DIV to add the elements to\n * @param isUemEnabled - true if the Action menu should be added\n * @param taskIdsKeys - array of options.task_ids keys. used to create task rows - one per task ID\n */\nfunction createDomElements(componentDiv, isUemEnabled, taskIdsKeys) {\n\n    function titleCase(str) {  // per https://stackoverflow.com/questions/196972/convert-string-to-title-case-with-javascript\n        return str.toLowerCase().replace(/\\b\\w/g, s => s.toUpperCase());\n    }\n\n    function _createFormRow(selectId, label) {\n        return $(\n            `<div class=\"form-row\">\\n` +\n            `    <label for=\"${selectId}\" class=\"col-sm-4 col-form-label\">${label}:</label>\\n` +\n            `    <div class=\"col-sm-8\">\\n` +\n            `        <select id=\"${selectId}\" class=\"form-control\"></select>\\n` +\n            `    </div>\\n` +\n            `</div>`)\n    }\n\n\n    //\n    // make $optionsDiv (left column)\n    //\n    const $optionsDiv = $('<div class=\"col-md-3\" id=\"forecastViz_options\"></div>');\n\n    // add Outcome, task ID, and Interval selects (form). NB: these are unfilled; their <OPTION>s are added by\n    // initializeTargetVarsUI(), initializeTaskIDsUI(), and initializeIntervalsUI(), respectively\n    const $optionsForm = $('<form></form>');\n    $optionsForm.append(_createFormRow('target_variable', 'Outcome'));\n    taskIdsKeys.forEach(taskIdKey => {\n        $optionsForm.append(_createFormRow(taskIdKey, titleCase(taskIdKey.replace(/[_-]/g, ' '))));  // replace w/spaces\n    });\n    $optionsForm.append(_createFormRow('intervals', 'Interval'));\n    $optionsDiv.append($optionsForm);\n\n    // add truth checkboxes\n    const $truthCheckboxesDiv = $(\n        '<div class=\"form-group form-check forecastViz_select_data \">\\n' +\n        '    <input title=\"curr truth\" type=\"checkbox\" id=\"forecastViz_Current_Truth\" value=\"Current Truth\" checked>\\n' +\n        '      &nbsp;<span id=\"currentTruthDate\">Current (current truth date here)</span>\\n' +\n        '      &nbsp;<span class=\"forecastViz_dot\" style=\"background-color: lightgrey; \"></span>\\n' +\n        '    <br>\\n' +\n        '    <input title=\"truth as of\" type=\"checkbox\" id=\"forecastViz_Truth_as_of\" value=\"Truth as of\" checked>\\n' +\n        '      &nbsp;<span id=\"asOfTruthDate\">(as of truth date here)</span>\\n' +\n        '      &nbsp;<span class=\"forecastViz_dot\" style=\"background-color: black;\"></span>\\n' +\n        '</div>');\n    $optionsDiv.append('<div class=\"pt-md-3\">Select Truth Data:</div>');\n    $optionsDiv.append($truthCheckboxesDiv);\n\n    // add model list controls\n    let optionsDivActionsDropdown;\n    if (isUemEnabled) {\n        optionsDivActionsDropdown = '<div class=\"dropdown\">\\n' +\n            '  <button class=\"btn btn-sm dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" style=\"float: right;\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n' +\n            '    Actions\\n' +\n            '  </button>\\n' +\n            '  <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\\n' +\n            '    <a class=\"dropdown-item\" id=\"addUserEnsemble\" href=\"#\">Add User Ensemble</a>\\n' +\n            '    <a class=\"dropdown-item disabled\" id=\"removeUserEnsemble\" href=\"#\">Remove User Ensemble</a>\\n' +\n            '    <a class=\"dropdown-item disabled\" id=\"downloadUserEnsemble\" href=\"#\">Download User Ensemble CSV</a>\\n' +\n            '    <a class=\"dropdown-item disabled\" id=\"infoUserEnsemble\" href=\"#\">User Ensemble Info...</a>\\n' +\n            '    <a class=\"dropdown-item\" id=\"editNameUserEnsemble\" href=\"#\">Edit User Ensemble Model Name...</a>\\n' +\n            '    <a class=\"dropdown-item\" id=\"helpUserEnsemble\" target=\"_blank\" href=\"https://github.com/reichlab/predtimechart#human-judgement-ensemble-model\">Help...</a>\\n' +\n            '  </div>\\n' +\n            '</div>\\n';\n    } else {\n        optionsDivActionsDropdown = '';\n    }\n    $optionsDiv.append($(\n        optionsDivActionsDropdown +\n        '<button type=\"button\" class=\"btn btn-sm rounded-pill\" id=\"forecastViz_shuffle\" style=\"float: right;\">\\n' +\n        '    Shuffle Colours</button>\\n' +\n        '<label class=\"forecastViz_label\" for=\"forecastViz_all\">Select Models:</label>\\n' +\n        '<input type=\"checkbox\" id=\"forecastViz_all\">'));\n\n    // add the model list itself\n    $optionsDiv.append($('<div id=\"forecastViz_select_model\"></div>'));\n\n\n    //\n    // make $vizDiv (right column)\n    //\n    const $vizDiv = $('<div class=\"col-md-9\" id=\"forecastViz_viz\"></div>');\n    const $buttonsDiv = $(\n        '<div class=\"container\">\\n' +\n        '    <div class=\"col-md-12 text-center\">\\n' +\n        '        <button type=\"button\" class=\"btn btn-primary\" id=\"decrement_as_of\">&lt;</button>\\n' +\n        '        <button type=\"button\" class=\"btn btn-primary\" id=\"increment_as_of\">&gt;</button>\\n' +\n        '    </div>\\n' +\n        '</div>'\n    );\n    $vizDiv.append($('<p class=\"forecastViz_disclaimer\"><b><span id=\"disclaimer\">(disclaimer here)</span></b></p>'));\n    $vizDiv.append($('<div id=\"ploty_div\" style=\"width: 100%; height: 72vh; position: relative;\"></div>'));\n    $vizDiv.append($buttonsDiv);\n    $vizDiv.append($('<p style=\"text-align:center\"><small>Note: You can navigate to forecasts from previous weeks with the left and right arrow keys</small></p>'));\n\n\n    //\n    // finish\n    //\n    const $componentDiv = $(document.getElementById(componentDiv));\n    $componentDiv.empty().append($optionsDiv, $vizDiv);\n}\n\n\nfunction initializeDateRangePicker(app) {\n    const appState = app.state;\n    const appUIState = app.uiState;\n\n    // initialize https://www.daterangepicker.com/ . regarding the jquery selector for the above icon, the svg is:\n    // <a rel=\"tooltip\" class=\"modebar-btn\" data-title=\"Jump to As_Of\" data-attr=\"my attr\" data-val=\"my val\" data-toggle=\"false\" data-gravity=\"n\">\n    const $icon = $(\"[data-title='Jump to As_Of']\");  // NB: couldn't get this to work: $(\".modebar-btn [data-title='Jump to As_Of']\");\n    const available_as_ofs = appState.available_as_ofs[appUIState.selected_target_var];\n    $icon.daterangepicker({  // we use below 'apply.daterangepicker' instead of a callback to get more control, esp. to receive \"today\" clicks\n        singleDatePicker: true,\n        showDropdowns: true,\n        minYear: parseInt(available_as_ofs[0].slice(0, 4)),\n        maxYear: parseInt(available_as_ofs.at(-1).slice(0, 4)),\n    });\n    $icon.on('apply.daterangepicker', function (ev, picker) {\n        // save and reset picked date to today (o/w stays on picked date)\n        const pickedDate = picker.startDate.format('YYYY-MM-DD');\n        picker.setStartDate(new Date());\n        picker.setEndDate(new Date());\n\n        const availableAsOfs = appState.available_as_ofs[appUIState.selected_target_var];\n        const closestAsOf = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.closestYear)(pickedDate, availableAsOfs);\n        console.debug(`apply.daterangepicker: pickedDate=${pickedDate}, closestAsOf=${closestAsOf}, selected_as_of_date=${appUIState.selected_as_of_date}, diff=${closestAsOf !== appUIState.selected_as_of_date}`);\n\n        // go to picked date if different from current\n        if (closestAsOf !== appUIState.selected_as_of_date) {\n            appUIState.selected_as_of_date = closestAsOf;  // write\n            app.fetchDataUpdatePlot(true, false, true);\n            updateTruthCheckboxText(false, appUIState.selected_as_of_date);  // as_of\n        }\n    });\n}\n\n\n//\n// updateModelsList()\n//\n\n/**\n * Populates the list of models.\n */\nfunction updateModelsList(app, userEnsembleModel) {\n    // populate the select model div\n    const $selectModelDiv = $(\"#forecastViz_select_model\");\n    const appState = app.state;\n    const uiState = app.uiState;\n    $selectModelDiv.empty();\n\n    // split models into two groups: those with forecasts (enabled, colored) and those without (disabled, gray)\n    // 1. add models with forecasts\n    app.state.models\n        .filter(function (model) {\n            return app.state.forecasts.hasOwnProperty(model);\n        })\n        .forEach(function (model) {\n            const isChecked = (uiState.selected_models.indexOf(model) > -1);\n            const modelIdx = appState.models.indexOf(model);\n            $selectModelDiv.append(_selectModelDiv(model, uiState.colors[modelIdx], true, isChecked));\n        });\n\n    // 2. add models without forecasts\n    app.state.models\n        .filter(function (model) {\n            return !app.state.forecasts.hasOwnProperty(model);\n        })\n        .forEach(function (model) {\n            const isChecked = (uiState.selected_models.indexOf(model) > -1);\n            $selectModelDiv.append(_selectModelDiv(model, 'grey', false, isChecked));\n        });\n\n    // re-wire up model checkboxes\n    (0,_events_js__WEBPACK_IMPORTED_MODULE_1__.addModelCheckEventHandler)(app);\n\n    // update the user ensemble model's error icon\n    _updateUemErrorIcon(userEnsembleModel);\n}\n\n\nfunction _selectModelDiv(model, modelColor, isEnabled, isChecked) {\n    const checked = isChecked ? 'checked' : '';\n    return `<div class=\"form-group form-check\"\n                 style=\"margin-bottom: 0${!isEnabled ? '; color: lightgrey' : ''}\">\n                <label>\n                    <input type=\"checkbox\" id=\"${model}\" class=\"model-check\" ${checked}>\n                    &nbsp;${model}\n                    &nbsp;<span class=\"forecastViz_dot\" style=\"background-color: ${modelColor}; \"></span>\n                </label>\n            </div>`;\n}\n\n\nfunction _updateUemErrorIcon(userEnsembleModel) {\n    const error = userEnsembleModel.lastError;\n    const $modelCheckboxParent = $(`#${userEnsembleModel.name}`).parent();  // the <label> - see _selectModelDiv()\n    if (error === null) {\n        $modelCheckboxParent.children('img').remove();\n    } else {\n        const imgSrc = \"https://github.githubassets.com/images/icons/emoji/unicode/26a0.png\";\n        const $img = $(\n            `<img src=\"${imgSrc}\" title=\"${error}\" alt=\"${error}\"\\n` +\n            `    class=\"align-baseline\" style=\"height: 16px; width: 16px; display: inline-block;\" >`\n        );\n        $modelCheckboxParent.after('&nbsp;', $img);\n    }\n}\n\n\n/**\n * Enables/disables user ensemble model action items based on isEnable.\n *\n * @param isEnable\n */\nfunction updateUEMActions(isEnable) {\n    if (isEnable) {\n        $(\"#removeUserEnsemble\").removeClass('disabled');    // enable\n        $(\"#downloadUserEnsemble\").removeClass('disabled');  // \"\"\n        $(\"#infoUserEnsemble\").removeClass('disabled');      // \"\"\n        $(\"#editNameUserEnsemble\").addClass('disabled');     // disable\n    } else {\n        $(\"#removeUserEnsemble\").addClass('disabled');       // disable\n        $(\"#downloadUserEnsemble\").addClass('disabled');     // \"\"\n        $(\"#infoUserEnsemble\").addClass('disabled');         // \"\"\n        $(\"#editNameUserEnsemble\").removeClass('disabled');  // enable\n    }\n}\n\n\n/**\n * Sets the text of either the current truth or the as_of truth checkbox.\n *\n * @param isCurrentTruth - true if current truth text should be updated, false if as_of truth should be updated\n * @param date\n */\nfunction updateTruthCheckboxText(isCurrentTruth, date) {\n    if (isCurrentTruth) {\n        $(\"#currentTruthDate\").text(`Current (${date})`);\n    } else {\n        $(\"#asOfTruthDate\").text(`As of ${date}`);\n    }\n}\n\n\n/**\n * Checks each item in #forecastViz_select_model that's in the passed list, unchecking all others.\n *\n * @param app\n * @param modelsToCheck - array of model names to check\n */\nfunction checkModels(app, modelsToCheck) {\n    app.state.models.forEach(function (model) {\n        const isShouldCheck = (modelsToCheck.indexOf(model) > -1);\n        const $modelCheckbox = $(`#${model}`);\n        $modelCheckbox.prop('checked', isShouldCheck);\n    });\n}\n\n\n/**\n * @return - the plotly <DIV> element (NOT a JQuery object)\n */\nfunction getPlotlyDiv() {\n    return document.getElementById('ploty_div');\n}\n\n\nfunction setDisclaimer(disclaimer) {\n    $('#disclaimer').text(disclaimer);\n}\n\n\n// export\n\n\n\n\n//# sourceURL=webpack://ajv-play/./src/ui.js?");

/***/ }),

/***/ "./src/user-ensemble-model.js":
/*!************************************!*\
  !*** ./src/user-ensemble-model.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Computes an ensemble model's forecasts based on component models. NB: Assumes inputs are consistent, i.e., every\n * model in `componentModels` has a key in `forecasts`, and every value in `forecasts` is structured correctly as\n * documented at https://github.com/reichlab/predtimechart/ , i.e., has these keys: \"target_end_date\", \"q0.025\",\n * \"q0.25\", \"q0.5\", \"q0.75\", and \"q0.975\". The output has these same keys. Algorithm: Uses mean. Note that this function\n * throws an Error on invalid inputs.\n *\n # @param {Array} componentModels - array of Strings naming the models to create the ensemble from\n # @param {Object} forecasts - forecasts containing data for componentModels. same format as App.state.forecasts\n # @return {Object} forecasts - ensemble forecasts. same format as `forecasts`\n */\nfunction _calcUemForecasts(componentModels, forecasts) {\n    // validate: must have one or more componentModels\n    if (componentModels.length === 0) {\n        throw new Error(`_calcUemForecasts(): must have one or more componentModels`);\n    }\n\n    // validate: all models must have forecast data\n    const modelsWithNoForecasts = [];\n    componentModels.forEach((model) => {\n        if (!Object.hasOwn(forecasts, model)) {\n            modelsWithNoForecasts.push(model);\n        }\n    });\n    if (modelsWithNoForecasts.length !== 0) {\n        throw new Error(`_calcUemForecasts(): some models had no forecast data: ${modelsWithNoForecasts}`);\n    }\n\n    // validate: all forecasts must have the same quantiles\n    const quantilesSet = new Set(componentModels.map(model => JSON.stringify(Object.keys(forecasts[model]))));\n    if (quantilesSet.size !== 1) {\n        throw new Error(`not all forecasts had the same quantiles: ${JSON.stringify([...quantilesSet])}`);\n    }\n\n    // validate: forecasts' target_end_dates must have at least one date in common (i.e., the intersection must not be\n    // empty). set intersection per https://stackoverflow.com/questions/55053007/intersection-of-n-sets\n    const target_end_dates_sets = [];  // target_end_date sets, one per model. filled next\n    componentModels.forEach((model) => {\n        target_end_dates_sets.push(new Set(forecasts[model]['target_end_date']));\n    });\n    const target_end_dates_intersect = target_end_dates_sets.reduce((a, b) => new Set([...a].filter(x => b.has(x))));\n    if (target_end_dates_intersect.size === 0) {\n        throw new Error(`_calcUemForecasts(): forecasts had no common target_end_dates`);\n    }\n\n    // compute target_end_date intersection indices for each model\n    const modelToTEDIndices = {};\n    componentModels.forEach((model) => {\n        modelToTEDIndices[model] = [...target_end_dates_intersect].map(\n            (targetEndDate) => forecasts[model]['target_end_date'].indexOf(targetEndDate));\n    });\n\n    // iterate over quantiles (keys that begin with 'q0.'), computing the mean and saving in ensembleForecasts.\n    // NB: assumes all forecasts have the same quantiles.\n    const firstModelForecasts = forecasts[componentModels[0]];\n    const ensembleForecasts = {'target_end_date': [...target_end_dates_intersect]};  // return value. filled next\n    Object.keys(firstModelForecasts).forEach((key) => {\n        if (key.startsWith('q0.')) {  // quantile key, e.g., 'q0.025'\n            const allModelsQuantiles = [];  // filled next\n            componentModels.forEach((model) => {\n                const modelForecasts = forecasts[model][key];\n                const indexedModelForecasts = modelToTEDIndices[model].map(i => modelForecasts[i]);\n                allModelsQuantiles.push(indexedModelForecasts);\n            });\n            ensembleForecasts[key] = _arraysMean(allModelsQuantiles);\n        }\n    });\n\n    // done\n    return ensembleForecasts\n}\n\n\n/**\n * Calculates an array of the same length as each array in quantileArrays (assumes they are all the same length) whose\n * elements are the arithmetic mean of the indexed values. For example, if called with these two arrays:\n * [590.675, 446.981771067711] , [738, 801] -> [mean([590.675, 738]), mean([446.981771067711, 801])]\n *\n * @param quantileArrays {array} - an array of numeric arrays, all the same length\n * @returns {array} - an array that's the arithmetic mean of the indexed values\n * @private\n */\nfunction _arraysMean(quantileArrays) {\n    // check quantileArrays all the same length\n    const lengthSet = new Set(quantileArrays.map(element => element.length));\n    if (lengthSet.size !== 1) {\n        throw new Error(`quantileArrays not all the same length: ${quantileArrays}`);\n    }\n\n    const meanArray = [];  // return value. filled next\n    for (let idx = 0; idx < lengthSet.values().next().value; idx++) {  // numQuantiles\n        const meanArrayForIdx = [];  // filled next\n        quantileArrays.forEach((quantileArray) => {\n            meanArrayForIdx.push(quantileArray[idx]);\n        });\n        const mean = _arrayMean(meanArrayForIdx);\n        meanArray.push(mean)\n    }\n\n    // done\n    return meanArray;\n}\n\n\n/**\n * @param {array} array - an array of numbers\n * @returns {number} - the mean of `array`'s elements\n * @private\n */\nfunction _arrayMean(array) {\n    var total = 0;\n    array.forEach((value) => {\n        if (typeof (value) !== 'number') {\n            throw new Error(`array item was not a number: ${value}`);\n        }\n        total += value;\n    });\n    return total / array.length;\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_calcUemForecasts);\n\n\n//# sourceURL=webpack://ajv-play/./src/user-ensemble-model.js?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _isInvalidUemName: () => (/* binding */ _isInvalidUemName),\n/* harmony export */   closestYear: () => (/* binding */ closestYear),\n/* harmony export */   download: () => (/* binding */ download)\n/* harmony export */ });\n//\n// Various utilities for the app.\n//\n\n/**\n *\n * @param year {String} date in 'YYYY-MM-DD' format\n * @param availableYears {Array} dates in 'YYYY-MM-DD' format\n * @returns {String} the date in `availableYears` that's closest to `year` ('YYYY-MM-DD' format)\n */\nfunction closestYear(year, availableYears) {\n    if (availableYears.length === 0) {\n        throw new Error(`availableYears is empty`);\n    } else if (availableYears.indexOf(year) !== -1) {  // already in availableYears\n        return year;\n    }\n\n    // create availableYears as Date objects and then iterate, comparing each with `year` as a Date and tracking the one\n    // with the minimum offset. no need to sort\n    const yearAsDate = _parseYYYYMMDDStr(year);\n    const availYearsDates = availableYears.map(availYear => _parseYYYYMMDDStr(availYear));\n    let closestAvailYearDate = null;  // Date\n    availYearsDates.forEach(availYearDate => {\n        const closestAvailYearDelta = closestAvailYearDate === null ? null : Math.abs(closestAvailYearDate - yearAsDate);\n        const availYearDelta = Math.abs(availYearDate - yearAsDate);\n        if ((closestAvailYearDate === null) || (availYearDelta < closestAvailYearDelta)) {\n            closestAvailYearDate = availYearDate;\n        }\n    });\n\n    // done\n    return closestAvailYearDate.toISOString().split('T')[0];  // convert to 'YYYY-MM-DD' format\n}\n\n\n/**\n * @param year {String} date in 'YYYY-MM-DD' format\n * @returns {Date} `year` as a Date object\n * @private\n */\nfunction _parseYYYYMMDDStr(year) {\n    // month -1 -> monthIndex\n    return new Date(parseInt(year.slice(0, 4)), parseInt(year.slice(5, 7)) - 1, parseInt(year.slice(8, 10)));\n}\n\n\n/**\n * Validates modelName\n *\n * @param models array of current models\n * @param modelName candidate name for USER_ENSEMBLE_MODEL.name\n * @returns error message if invalid; false if valid: <= 31 chars . letter, number, underscore, or hyphen/dash\n * @private\n */\nfunction _isInvalidUemName(models, modelName) {\n    if (modelName.length === 0) {\n        return \"name is required\";\n    } else if (modelName.length > 31) {\n        return \"name is more than 31 characters\";\n    } else if (models.includes(modelName)) {\n        return \"name already used\";\n    } else if (!(/^[a-zA-Z0-9_-]+$/.test(modelName))) {\n        return \"name had invalid characters. must be letters, numbers, underscores, or hypens'\";\n    } else {\n        return false;  // valid\n    }\n}\n\n\n//\n// saveFile() helper for $(\"#downloadUserEnsemble\").click()\n// - per https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server\n//\n\nfunction download(content, mimeType, filename) {\n    if (window.navigator.msSaveOrOpenBlob) {\n        window.navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n        const a = document.createElement('a')\n        document.body.appendChild(a);\n        const blob = new Blob([content], {type: mimeType}) // Create a blob (file-like object)\n        const url = URL.createObjectURL(blob)\n        a.setAttribute('href', url)\n        a.setAttribute('download', filename)\n        a.click()  // Start downloading\n        setTimeout(() => {\n            window.URL.revokeObjectURL(url);\n            document.body.removeChild(a);\n        }, 0)\n    }\n}\n\n\n// export\n\n\n\n\n//# sourceURL=webpack://ajv-play/./src/utils.js?");

/***/ }),

/***/ "./src/validation.js":
/*!***************************!*\
  !*** ./src/validation.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _schema_validator_cjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./schema-validator.cjs */ \"./src/schema-validator.cjs\");\n // Ajs standalone validation code\n\n\n//\n// utilities\n//\n\n// per https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality\nconst eqSet = (xs, ys) =>\n    xs.size === ys.size &&\n    [...xs].every((x) => ys.has(x));\n\n\n//\n// _validateOptions()\n//\n\n/**\n * Validates an initialize() options object.\n *\n * @param {Object} options - visualization initialization options as documented at https://docs.zoltardata.com/visualizationoptionspage/\n * @throws {Error} - if invalid\n * @private\n */\nfunction _validateOptions(options) {\n    // options object: must be present\n    if ((options === null) || (typeof options !== \"object\")) {\n        throw `options object is required but missing: '${options}'`;\n    }\n\n    // validate structure based on JSON Schema using Ajv-compiled validation function\n    const valid = _schema_validator_cjs__WEBPACK_IMPORTED_MODULE_0__(options);\n    if (!valid) {\n        console.error(`_validateOptions(): invalid schema. ${_schema_validator_cjs__WEBPACK_IMPORTED_MODULE_0__.errors.length} error(s). options:, errors:`,\n            (JSON.stringify(options, null, '    ')), _schema_validator_cjs__WEBPACK_IMPORTED_MODULE_0__.errors);\n        // use a long, somewhat unreadable error string so that users (and tests) can get a clue to the problem\n        const errorStr = _schema_validator_cjs__WEBPACK_IMPORTED_MODULE_0__.errors.map(errorObj => JSON.stringify(errorObj)).join(', ');\n        throw `invalid options structure: ${errorStr}`;\n    }\n\n    // validate non-schema (i.e., semantic) constraints.\n    // semantics test: available_as_ofs keys in target_variables value\n    const availableAsOfs = options['available_as_ofs'];\n    const targetVariables = options['target_variables'];\n    Object.keys(availableAsOfs).forEach(availableAsOfKey => {\n        let keyWasPresent = false;\n        targetVariables.forEach(targetVariable => {\n            if (targetVariable.value === availableAsOfKey) {\n                keyWasPresent = true;\n            }\n        });\n        if (!keyWasPresent) {\n            throw `available_as_ofs key not in target_variables value. key=${availableAsOfKey}`;\n        }\n    });\n\n    // semantics test: initial_checked_models in models\n    const models = options['models'];\n    options['initial_checked_models'].forEach(model => {\n        if (!models.includes(model)) {\n            throw `initial_checked_models model not in models: ${model}`;\n        }\n    });\n\n    // semantics test: initial_interval in intervals\n    const initialInterval = options['initial_interval'];\n    if (!options['intervals'].includes(initialInterval)) {\n        throw `initial_interval not in intervals: ${initialInterval}`;\n    }\n\n    // semantics test: initial_target_var in target_variables values\n    const targetVarValues = targetVariables.map((targetVariable) => targetVariable['value']);\n    const initialTargetVar = options['initial_target_var'];\n    if (!targetVarValues.includes(initialTargetVar)) {\n        throw `initial_target_var not in target_variables: ${initialTargetVar}`;\n    }\n\n    // semantics test: initial_as_of in available_as_ofs array. NB: this test must come after\n    // \"initial_target_var in target_variables values\" test b/c here we depend on initial_target_var being valid\n    const initialAsOf = options['initial_as_of'];\n    const initialTargetVarAvailAsOfs = availableAsOfs[initialTargetVar];\n    if (!initialTargetVarAvailAsOfs.includes(initialAsOf)) {\n        throw `initial_as_of not in available_as_ofs: ${initialAsOf}`;\n    }\n\n    // semantics test: initial_task_ids key in task_ids\n    const taskIds = options['task_ids'];\n    const initialTaskIds = options['initial_task_ids'];\n    if (!eqSet(new Set(Object.keys(taskIds)), new Set(Object.keys(initialTaskIds)))) {\n        throw `initial_task_ids key !== task_ids: ${JSON.stringify(initialTaskIds)}`;\n    }\n\n    // semantics test 7/7: initial_task_ids value in task_ids\n    Object.keys(initialTaskIds).forEach(initialTaskIdKey => {\n        const initialTaskIdValue = initialTaskIds[initialTaskIdKey];\n        const taskIdValues = taskIds[initialTaskIdKey].map((taskIdObj) => taskIdObj['value']);\n        if (!taskIdValues.includes(initialTaskIdValue)) {\n            throw `initial_task_ids value not in task_ids. initialTaskIdValue=${initialTaskIdValue}, taskIdValues=${taskIdValues}`;\n        }\n    });\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_validateOptions);\n\n\n//# sourceURL=webpack://ajv-play/./src/validation.js?");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		id: moduleId,
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/compat get default export */
/******/ (() => {
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = (module) => {
/******/ 		var getter = module && module.__esModule ?
/******/ 			() => (module['default']) :
/******/ 			() => (module);
/******/ 		__webpack_require__.d(getter, { a: getter });
/******/ 		return getter;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/nonce */
/******/ (() => {
/******/ 	__webpack_require__.nc = undefined;
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval devtool is used.
/******/ __webpack_require__("./src/styles.js");
/******/ var __webpack_exports__ = __webpack_require__("./src/predtimechart.js");
/******/ var __webpack_exports__default = __webpack_exports__["default"];
/******/ export { __webpack_exports__default as default };
/******/ 
